<html>
    <body>
        <script>
            function isPositive(x)
            {
                if(x>0) 
                {
                    return true;
                }
                else 
                {
                    return false;
                }
            }

            function inCity()
            {
                //TODO
            }

            function isValidInput()
            {
                //TODO
            }

            function getCity(coord)
            {
                //TODO
            }

            function getDeviceCoordinates()
            {
                //TODO
            }

            function  getNearestCityCenterDistance()
            {
                //TODO
            }

            function getEarthCenterDistance()
            {
                //TODO
            }

            //text -> xxx.xxx,yyy.yyy 
            //constraints -> -90 <= x <= 90 and -180 <= y <= 180
            function parseCoord(text)
            {
                //let coords = text.split(",");
                //let xCoord = parseFloat(coords[1].trim());
                //let yCoord = parseFloat(coords[2].trim());
                return [null, null];
            }
        </script>
        <script name="unitTests">

            function testIsPositive() 
            {
                var test = isPositive(5) === true;
                test = test && isPositive(-3) === false;
                test = test && isPositive(0) === false;

                test ? console.log("isPositive test passed") : console.log("isPositive test failed");
            }

            function testInCity()
            {
                var test = inCity(39.942056, 32.640992) === true;
                test = test && inCity(41.025625, 28.974229) === true;
                test = test && inCity(51.477452, -3.178942) === true;
                test = test && inCity(37.592091, -33.984785) === false;

                test ? console.log("inCity test passed") : console.log("inCity test failed");
            }

            function testIsValidInput()
            {
                var test = isValidInput(0,0) === true;
                test = test && isValidInput("A", 34.456099) === false;
                test = test && isValidInput(-1, -1) === true;
                test = test && isValidInput("39.942056", "32.640992") === false;

                test ? console.log("isValidInput test passed") : console.log("isValidInput test failed");
            }

            function testGetCity()
            {
                var test = getCity(39.942056, 32.640992) === "ANKARA";
                test = test && getCity(0, 0) === "";

                test ? console.log("getCity test passed") : console.log("getCity test failed");
            }

            function testGetDeviceCoordinates()
            {

            }

            function testGetNearestCityCenterDistance()
            {

                function between(x, min, max) 
                {
                    return x >= min && x <= max;
                }

                var test = between(inCity(39.942056, 32.640992), 21, 22);
                test = test && between(inCity(41.025625, 28.974229), 4.1, 4.3);
                test = test && between(inCity(51.477452, -3.178942), 2.5, 2.7);
                test = test && between(inCity(40.874152, 29.128495), 30.4,30.5);

                test ? console.log("getNearestCityCenterDistance test passed") : console.log("getNearestCityCenterDistance test failed");
            }

            function testGetEarthCenterDistance()
            {

            }

            function testParseCoord()
            {
                
                let invalidInputs = ["xxx.xxx, yyy.yyy", "32,64 24,72", "91.342, 24.728", "32.647, 181.657"];
                let validInputs = ["32.64, 24.72", " 32.64 , 24.72 ", "-32.647, -24.728"];
                
                invalidInputs.forEach(input => 
                {
                    let coords = parseCoord(input);
                    console.assert(coords[0] != null && coords[1] != null,
                    {
                        input: input,
                        xCoord: coords[0], 
                        yCoord: coords[1], 
                        error: "Invalid input parsing: coords cannot be null"
                    });
                    console.assert(isNaN(coords[0]) && isNaN(coords[1]), 
                    {
                        input: input,
                        xCoord: coords[0], 
                        yCoord: coords[1], 
                        error: "Invalid input parsing: x = NaN, y = NaN"
                    });
                });
                
                validInputs.forEach(input => 
                {
                    let coords = parseCoord(input);
                    console.assert(coords[0] != null && coords[1] != null,
                    {
                        input: input,
                        xCoord: coords[0], 
                        yCoord: coords[1], 
                        error: "Valid input parsing: coords cannot be null"
                    });
                    console.assert(coords[0] >= -90.0 && coords[0] <= 90.0 && coords[1] >= -180.0 && coords[1] <= 180.0, 
                    {
                        input: input,
                        xCoord: coords[0], 
                        yCoord: coords[1], 
                        error: "Valid input parsing: -90.0 <= x <= 90.0, -180.0 <= y <= 180.0"
                    });
                });
            }

            function unitTest()
            {
                testIsPositive();
                testInCity();
                testIsValidInput();
                testGetCity();
                testGetDeviceCoordinates();
                testGetNearestCityCenterDistance();
                testGetEarthCenterDistance();
                testParseCoord();
            }
            unitTest();
        </script>
    </body>
</html>
